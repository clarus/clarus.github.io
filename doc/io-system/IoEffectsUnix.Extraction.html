<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>IoEffectsUnix.Extraction</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library IoEffectsUnix.Extraction</h1>

<div class="code">
</div>

<div class="doc">
Extraction to OCaml. New primitives are defined in `extraction/utils.ml`. 
</div>
<div class="code">
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#"><span class="id" type="library">Coq.Lists.List</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.ZArith.ZArith.html#"><span class="id" type="library">Coq.ZArith.ZArith</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.extraction.ExtrOcamlBasic.html#"><span class="id" type="library">ExtrOcamlBasic</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.extraction.ExtrOcamlBigIntConv.html#"><span class="id" type="library">ExtrOcamlBigIntConv</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.extraction.ExtrOcamlString.html#"><span class="id" type="library">ExtrOcamlString</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="library">ErrorHandlers.All</span>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="library">FunctionNinjas.All</span>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="library">ListString.All</span>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="library">IoEffects.All</span>.<br/>
<span class="id" type="keyword">Require</span> <a class="idref" href="IoEffectsUnix.Unix.html#"><span class="id" type="library">Unix</span></a>.<br/>

<br/>
<span class="id" type="keyword">Import</span> <span class="id" type="var">ListNotations</span>.<br/>
<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">type</span>.<br/>

<br/>
</div>

<div class="doc">
Interface with the OCaml strings. 
</div>
<div class="code">
<span class="id" type="keyword">Module</span> <a name="String"><span class="id" type="module">String</span></a>.<br/>
</div>

<div class="doc">
The OCaml `string` type. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Parameter</span> <a name="String.t"><span class="id" type="axiom">t</span></a> : <span class="id" type="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Extract</span> <span class="id" type="var">Constant</span> <span class="id" type="var">t</span> ⇒ "string".<br/>

<br/>
</div>

<div class="doc">
Export to an OCaml string. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Parameter</span> <a name="String.of_lstring"><span class="id" type="axiom">of_lstring</span></a> : <span class="id" type="definition">LString.t</span> → <a class="idref" href="IoEffectsUnix.Extraction.html#String.t"><span class="id" type="axiom">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Extract</span> <span class="id" type="var">Constant</span> <span class="id" type="var">of_lstring</span> ⇒ "IoEffectsUnix.String.of_lstring".<br/>

<br/>
</div>

<div class="doc">
Import an OCaml string. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Parameter</span> <a name="String.to_lstring"><span class="id" type="axiom">to_lstring</span></a> : <a class="idref" href="IoEffectsUnix.Extraction.html#String.t"><span class="id" type="axiom">t</span></a> → <span class="id" type="definition">LString.t</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Extract</span> <span class="id" type="var">Constant</span> <span class="id" type="var">to_lstring</span> ⇒ "IoEffectsUnix.String.to_lstring".<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="IoEffectsUnix.Extraction.html#String"><span class="id" type="module">String</span></a>.<br/>

<br/>
</div>

<div class="doc">
Unbounded integers. 
</div>
<div class="code">
<span class="id" type="keyword">Module</span> <a name="BigInt"><span class="id" type="module">BigInt</span></a>.<br/>
</div>

<div class="doc">
The OCaml's `bigint` type. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="BigInt.t"><span class="id" type="definition">t</span></a> : <span class="id" type="keyword">Type</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.extraction.ExtrOcamlBigIntConv.html#bigint"><span class="id" type="axiom">bigint</span></a>.<br/>

<br/>
</div>

<div class="doc">
Export to a `Z`. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="BigInt.to_Z"><span class="id" type="definition">to_Z</span></a> : <a class="idref" href="IoEffectsUnix.Extraction.html#BigInt.t"><span class="id" type="definition">t</span></a> → <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" type="inductive">Z</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.extraction.ExtrOcamlBigIntConv.html#z_of_bigint"><span class="id" type="definition">z_of_bigint</span></a>.<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="IoEffectsUnix.Extraction.html#BigInt"><span class="id" type="module">BigInt</span></a>.<br/>

<br/>
</div>

<div class="doc">
Interface to the Lwt library. 
</div>
<div class="code">
<span class="id" type="keyword">Module</span> <a name="Lwt"><span class="id" type="module">Lwt</span></a>.<br/>
</div>

<div class="doc">
The `Lwt.t` type. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Parameter</span> <a name="Lwt.t"><span class="id" type="axiom">t</span></a> : <span class="id" type="keyword">Type</span> → <span class="id" type="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Extract</span> <span class="id" type="var">Constant</span> <span class="id" type="var">t</span> "'a" ⇒ "'a Lwt.t".<br/>

<br/>
</div>

<div class="doc">
Return. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Parameter</span> <a name="Lwt.ret"><span class="id" type="axiom">ret</span></a> : <span class="id" type="keyword">∀</span> {<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>}, <a class="idref" href="IoEffectsUnix.Extraction.html#A"><span class="id" type="variable">A</span></a> → <a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.t"><span class="id" type="axiom">t</span></a> <a class="idref" href="IoEffectsUnix.Extraction.html#A"><span class="id" type="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Extract</span> <span class="id" type="var">Constant</span> <span class="id" type="var">ret</span> ⇒ "Lwt.return".<br/>

<br/>
</div>

<div class="doc">
Bind. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Parameter</span> <a name="Lwt.bind"><span class="id" type="axiom">bind</span></a> : <span class="id" type="keyword">∀</span> {<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>}, <a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.t"><span class="id" type="axiom">t</span></a> <a class="idref" href="IoEffectsUnix.Extraction.html#A"><span class="id" type="variable">A</span></a> → (<a class="idref" href="IoEffectsUnix.Extraction.html#A"><span class="id" type="variable">A</span></a> → <a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.t"><span class="id" type="axiom">t</span></a> <a class="idref" href="IoEffectsUnix.Extraction.html#B"><span class="id" type="variable">B</span></a>) → <a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.t"><span class="id" type="axiom">t</span></a> <a class="idref" href="IoEffectsUnix.Extraction.html#B"><span class="id" type="variable">B</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Extract</span> <span class="id" type="var">Constant</span> <span class="id" type="var">bind</span> ⇒ "Lwt.bind".<br/>

<br/>
</div>

<div class="doc">
Run. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Parameter</span> <a name="Lwt.run"><span class="id" type="axiom">run</span></a> : <span class="id" type="keyword">∀</span> {<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>}, <a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.t"><span class="id" type="axiom">t</span></a> <a class="idref" href="IoEffectsUnix.Extraction.html#A"><span class="id" type="variable">A</span></a> → <a class="idref" href="IoEffectsUnix.Extraction.html#A"><span class="id" type="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Extract</span> <span class="id" type="var">Constant</span> <span class="id" type="var">run</span> ⇒ "Lwt_main.run".<br/>

<br/>
</div>

<div class="doc">
List the files of a directory. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Parameter</span> <a name="Lwt.list_files"><span class="id" type="axiom">list_files</span></a> : <a class="idref" href="IoEffectsUnix.Extraction.html#String.t"><span class="id" type="axiom">String.t</span></a> → <a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.t"><span class="id" type="axiom">t</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="IoEffectsUnix.Extraction.html#String.t"><span class="id" type="axiom">String.t</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Extract</span> <span class="id" type="var">Constant</span> <span class="id" type="var">list_files</span> ⇒ "IoEffectsUnix.list_files".<br/>

<br/>
</div>

<div class="doc">
The the content of a file. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Parameter</span> <a name="Lwt.read_file"><span class="id" type="axiom">read_file</span></a> : <a class="idref" href="IoEffectsUnix.Extraction.html#String.t"><span class="id" type="axiom">String.t</span></a> → <a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.t"><span class="id" type="axiom">t</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <a class="idref" href="IoEffectsUnix.Extraction.html#String.t"><span class="id" type="axiom">String.t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Extract</span> <span class="id" type="var">Constant</span> <span class="id" type="var">read_file</span> ⇒ "IoEffectsUnix.read_file".<br/>

<br/>
</div>

<div class="doc">
Update (or create) a file with some content. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Parameter</span> <a name="Lwt.write_file"><span class="id" type="axiom">write_file</span></a> : <a class="idref" href="IoEffectsUnix.Extraction.html#String.t"><span class="id" type="axiom">String.t</span></a> → <a class="idref" href="IoEffectsUnix.Extraction.html#String.t"><span class="id" type="axiom">String.t</span></a> → <a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.t"><span class="id" type="axiom">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" type="inductive">bool</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Extract</span> <span class="id" type="var">Constant</span> <span class="id" type="var">write_file</span> ⇒ "IoEffectsUnix.write_file".<br/>

<br/>
</div>

<div class="doc">
Delete a file. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Parameter</span> <a name="Lwt.delete_file"><span class="id" type="axiom">delete_file</span></a> : <a class="idref" href="IoEffectsUnix.Extraction.html#String.t"><span class="id" type="axiom">String.t</span></a> → <a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.t"><span class="id" type="axiom">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" type="inductive">bool</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Extract</span> <span class="id" type="var">Constant</span> <span class="id" type="var">delete_file</span> ⇒ "IoEffectsUnix.delete_file".<br/>

<br/>
</div>

<div class="doc">
Run a command. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Parameter</span> <a name="Lwt.system"><span class="id" type="axiom">system</span></a> : <a class="idref" href="IoEffectsUnix.Extraction.html#String.t"><span class="id" type="axiom">String.t</span></a> → <a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.t"><span class="id" type="axiom">t</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" type="inductive">bool</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Extract</span> <span class="id" type="var">Constant</span> <span class="id" type="var">system</span> ⇒ "IoEffectsUnix.system".<br/>

<br/>
</div>

<div class="doc">
Print a message on the standard output. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Parameter</span> <a name="Lwt.print"><span class="id" type="axiom">print</span></a> : <a class="idref" href="IoEffectsUnix.Extraction.html#String.t"><span class="id" type="axiom">String.t</span></a> → <a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.t"><span class="id" type="axiom">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" type="inductive">bool</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Extract</span> <span class="id" type="var">Constant</span> <span class="id" type="var">print</span> ⇒ "IoEffectsUnix.print".<br/>

<br/>
</div>

<div class="doc">
Read a line on the standard input. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Parameter</span> <a name="Lwt.read_line"><span class="id" type="axiom">read_line</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#unit"><span class="id" type="inductive">unit</span></a> → <a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.t"><span class="id" type="axiom">t</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <a class="idref" href="IoEffectsUnix.Extraction.html#String.t"><span class="id" type="axiom">String.t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Extract</span> <span class="id" type="var">Constant</span> <span class="id" type="var">read_line</span> ⇒ "IoEffectsUnix.read_line".<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="IoEffectsUnix.Extraction.html#Lwt"><span class="id" type="module">Lwt</span></a>.<br/>

<br/>
</div>

<div class="doc">
Evaluate a command using Lwt. 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="eval_command"><span class="id" type="definition">eval_command</span></a> (<span class="id" type="var">c</span> : <span class="id" type="projection">Effects.command</span> <a class="idref" href="IoEffectsUnix.Unix.html#effects"><span class="id" type="definition">Unix.effects</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.t"><span class="id" type="axiom">Lwt.t</span></a> (<span class="id" type="projection">Effects.answer</span> <a class="idref" href="IoEffectsUnix.Unix.html#effects"><span class="id" type="definition">Unix.effects</span></a> <a class="idref" href="IoEffectsUnix.Extraction.html#c"><span class="id" type="variable">c</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="IoEffectsUnix.Extraction.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="keyword">return</span> (<a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.t"><span class="id" type="axiom">Lwt.t</span></a> (<span class="id" type="projection">Effects.answer</span> <a class="idref" href="IoEffectsUnix.Unix.html#effects"><span class="id" type="definition">Unix.effects</span></a> <a class="idref" href="IoEffectsUnix.Extraction.html#c"><span class="id" type="variable">c</span></a>)) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="IoEffectsUnix.Unix.html#ListFiles"><span class="id" type="constructor">Unix.ListFiles</span></a> <span class="id" type="var">folder</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.bind"><span class="id" type="axiom">Lwt.bind</span></a> (<a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.list_files"><span class="id" type="axiom">Lwt.list_files</span></a> <span class="id" type="notation">@@</span> <a class="idref" href="IoEffectsUnix.Extraction.html#String.of_lstring"><span class="id" type="axiom">String.of_lstring</span></a> <span class="id" type="var">folder</span>) (<span class="id" type="keyword">fun</span> <span class="id" type="var">files</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.ret"><span class="id" type="axiom">Lwt.ret</span></a> <span class="id" type="notation">@@</span> <span class="id" type="definition">Option.bind</span> <a class="idref" href="IoEffectsUnix.Extraction.html#files"><span class="id" type="variable">files</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">files</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#map"><span class="id" type="definition">List.map</span></a> <a class="idref" href="IoEffectsUnix.Extraction.html#String.to_lstring"><span class="id" type="axiom">String.to_lstring</span></a> <a class="idref" href="IoEffectsUnix.Extraction.html#files"><span class="id" type="variable">files</span></a>)))<br/>
&nbsp;&nbsp;| <a class="idref" href="IoEffectsUnix.Unix.html#ReadFile"><span class="id" type="constructor">Unix.ReadFile</span></a> <span class="id" type="var">file_name</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.bind"><span class="id" type="axiom">Lwt.bind</span></a> (<a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.read_file"><span class="id" type="axiom">Lwt.read_file</span></a> <span class="id" type="notation">@@</span> <a class="idref" href="IoEffectsUnix.Extraction.html#String.of_lstring"><span class="id" type="axiom">String.of_lstring</span></a> <span class="id" type="var">file_name</span>) (<span class="id" type="keyword">fun</span> <span class="id" type="var">content</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.ret"><span class="id" type="axiom">Lwt.ret</span></a> <span class="id" type="notation">@@</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#option_map"><span class="id" type="definition">option_map</span></a> <a class="idref" href="IoEffectsUnix.Extraction.html#String.to_lstring"><span class="id" type="axiom">String.to_lstring</span></a> <a class="idref" href="IoEffectsUnix.Extraction.html#content"><span class="id" type="variable">content</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="IoEffectsUnix.Unix.html#WriteFile"><span class="id" type="constructor">Unix.WriteFile</span></a> <span class="id" type="var">file_name</span> <span class="id" type="var">content</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">file_name</span> := <a class="idref" href="IoEffectsUnix.Extraction.html#String.of_lstring"><span class="id" type="axiom">String.of_lstring</span></a> <span class="id" type="var">file_name</span> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">content</span> := <a class="idref" href="IoEffectsUnix.Extraction.html#String.of_lstring"><span class="id" type="axiom">String.of_lstring</span></a> <span class="id" type="var">content</span> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.write_file"><span class="id" type="axiom">Lwt.write_file</span></a> <a class="idref" href="IoEffectsUnix.Extraction.html#file_name"><span class="id" type="variable">file_name</span></a> <a class="idref" href="IoEffectsUnix.Extraction.html#content"><span class="id" type="variable">content</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="IoEffectsUnix.Unix.html#DeleteFile"><span class="id" type="constructor">Unix.DeleteFile</span></a> <span class="id" type="var">file_name</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.delete_file"><span class="id" type="axiom">Lwt.delete_file</span></a> <span class="id" type="notation">@@</span> <a class="idref" href="IoEffectsUnix.Extraction.html#String.of_lstring"><span class="id" type="axiom">String.of_lstring</span></a> <span class="id" type="var">file_name</span><br/>
&nbsp;&nbsp;| <a class="idref" href="IoEffectsUnix.Unix.html#System"><span class="id" type="constructor">Unix.System</span></a> <span class="id" type="var">command</span> ⇒ <a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.system"><span class="id" type="axiom">Lwt.system</span></a> (<a class="idref" href="IoEffectsUnix.Extraction.html#String.of_lstring"><span class="id" type="axiom">String.of_lstring</span></a> <span class="id" type="var">command</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="IoEffectsUnix.Unix.html#Print"><span class="id" type="constructor">Unix.Print</span></a> <span class="id" type="var">message</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">message</span> := <a class="idref" href="IoEffectsUnix.Extraction.html#String.of_lstring"><span class="id" type="axiom">String.of_lstring</span></a> <span class="id" type="var">message</span> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.print"><span class="id" type="axiom">Lwt.print</span></a> <a class="idref" href="IoEffectsUnix.Extraction.html#message"><span class="id" type="variable">message</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="IoEffectsUnix.Unix.html#ReadLine"><span class="id" type="constructor">Unix.ReadLine</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.bind"><span class="id" type="axiom">Lwt.bind</span></a> (<a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.read_line"><span class="id" type="axiom">Lwt.read_line</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a>) (<span class="id" type="keyword">fun</span> <span class="id" type="var">line</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.ret"><span class="id" type="axiom">Lwt.ret</span></a> <span class="id" type="notation">@@</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#option_map"><span class="id" type="definition">option_map</span></a> <a class="idref" href="IoEffectsUnix.Extraction.html#String.to_lstring"><span class="id" type="axiom">String.to_lstring</span></a> <a class="idref" href="IoEffectsUnix.Extraction.html#line"><span class="id" type="variable">line</span></a>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Evaluate an expression using Lwt. 
</div>
<div class="code">
<span class="id" type="keyword">Fixpoint</span> <a name="eval"><span class="id" type="definition">eval</span></a> {<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">x</span> : <span class="id" type="inductive">C.t</span> <a class="idref" href="IoEffectsUnix.Unix.html#effects"><span class="id" type="definition">Unix.effects</span></a> <a class="idref" href="IoEffectsUnix.Extraction.html#A"><span class="id" type="variable">A</span></a>) : <a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.t"><span class="id" type="axiom">Lwt.t</span></a> <a class="idref" href="IoEffectsUnix.Extraction.html#A"><span class="id" type="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="IoEffectsUnix.Extraction.html#x"><span class="id" type="variable">x</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" type="constructor">C.Ret</span> <span class="id" type="var">_</span> <span class="id" type="var">x</span> ⇒ <a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.ret"><span class="id" type="axiom">Lwt.ret</span></a> <a class="idref" href="IoEffectsUnix.Extraction.html#x"><span class="id" type="variable">x</span></a><br/>
&nbsp;&nbsp;| <span class="id" type="constructor">C.Call</span> <span class="id" type="var">command</span> ⇒ <a class="idref" href="IoEffectsUnix.Extraction.html#eval_command"><span class="id" type="definition">eval_command</span></a> <span class="id" type="var">command</span><br/>
&nbsp;&nbsp;| <span class="id" type="constructor">C.Let</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">x</span> <span class="id" type="var">f</span> ⇒ <a class="idref" href="IoEffectsUnix.Extraction.html#Lwt.bind"><span class="id" type="axiom">Lwt.bind</span></a> (<a class="idref" href="IoEffectsUnix.Extraction.html#eval"><span class="id" type="definition">eval</span></a> <a class="idref" href="IoEffectsUnix.Extraction.html#x"><span class="id" type="variable">x</span></a>) (<span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> ⇒ <a class="idref" href="IoEffectsUnix.Extraction.html#eval"><span class="id" type="definition">eval</span></a> (<span class="id" type="var">f</span> <a class="idref" href="IoEffectsUnix.Extraction.html#x"><span class="id" type="variable">x</span></a>))<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>